{"pageProps":{"postData":{"id":"brag_doc_2023","contentHtml":"<h2><strong>Goals for this year</strong></h2>\n<ul>\n<li>[ ] Take on at least one public speaking engagement</li>\n<li>[x] Gain Software/System Design skills through either real-life experience or\nmuch study</li>\n<li>[ ] Build more scripts and tools</li>\n<li>[x] Expand my skillset to two new languages, libraries, or tools</li>\n<li>[x] Maintain (and possibly deepen) my lesser-used skills in the JS/TS\necosystem</li>\n</ul>\n<h1><strong>Projects</strong></h1>\n<p>For each one, go through:</p>\n<ul>\n<li>What your contributions were (did you come up with the design? Which\ncomponents did you build? Was there some useful insight like \"wait, we can cut\nscope and do what we want by doing way less work\" that you came up with?)</li>\n<li>The impact of the project – who was it for? Are there numbers you can attach\nto it? (saved X dollars? shipped new feature that has helped sell Y big deals?\nImproved performance by X%? Used by X internal users every day?). Did it\nsupport some important non-numeric company goal (required to pass an audit?\nhelped retain an important user?)</li>\n</ul>\n<p>Remember: don't forget to explain what the results of you work actually were!\nIt's often important to go back a few months later and fill in what actually\nhappened after you launched the project.</p>\n<h2>PDFGen Deprecation</h2>\n<ul>\n<li>Transitioned document generation from legacy microservice PDFGen to a new\nmicroservice called cyber-lifecycle that utilized\n<a href=\"https://temporal.io/\">Temporal</a> in order to asynchronously and resiliently\ngenerate documents\n<ul>\n<li>Converted most calls made from the webserver to be routed to cyber-lifecycle</li>\n</ul>\n</li>\n<li>Coordinated cross-team to divide work evenly</li>\n<li>Implemented distributed cache for two services to bring down the number of\ncalls to the auth service by a factor of ten\n<ul>\n<li>This reduced the number of 429s and brought several services back within\ntheir SLO</li>\n<li>It made deploys an uneventful part of our process—as opposed to several\nerrors popping up during deploys</li>\n<li>This distributed cache influenced other teams' designs</li>\n</ul>\n</li>\n<li>Transition several parts of the code from synchronous to asynchronous\n<ul>\n<li>Bringing down the latency by half</li>\n</ul>\n</li>\n<li>Transitioned key business code to Python stable packages, as opposed to\nin-house code\n<ul>\n<li>This brought down the errors by several factors of ten</li>\n<li>This also made debugging much easier since the package had clear error\nexpectations and names\n<ul>\n<li>As opposed to diagnosing issues based on Unix error codes</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><em>Metrics:</em> Dashboard metrics on async doc generation\n<ul>\n<li>Brought latency down by more than half</li>\n<li>Reduced the number of issues/errors by a factor of ten</li>\n</ul>\n</li>\n</ul>\n<h2>Categorization and Filtering</h2>\n<ul>\n<li>Initially, our document generation service 'docgen' relied on Python\nexpressions for filtering and categorizing documents, resulting in confusion\nand errors.</li>\n<li>My task was to streamline the categorization and filtering process to improve\nclarity and reduce errors.</li>\n<li><strong>Simplified Categorization:</strong> Instead of using Python expressions for\ndocument categorization, I restructured the system. I extracted critical\ninformation into dedicated top-level fields and made them accessible through\nthe user interface. This change provided clarity to both backend developers\nand end-users, ensuring a clear understanding of which documents were intended\nfor specific policies.\n<ul>\n<li><em>Example:</em> For instance, we could specify that only a particular agency\nshould use a specific document when a particular coverage was applied,\neliminating ambiguity.</li>\n<li><em>Error Reduction:</em> This modification significantly reduced the occurrence of\nerrors. Users of the internal tool, who were not necessarily developers,\npreviously made syntax errors when using Python expressions. Moreover, their\nlimited familiarity with the system often led to incorrect assumptions.</li>\n</ul>\n</li>\n<li><strong>Front-End Pattern Creation:</strong> I designed a front-end pattern that enabled\nother developers to replicate the implementation of additional filters or\ncategorizations efficiently. This standardized approach slashed the time\nrequired to deliver new features or improvements by half.</li>\n<li><strong>Metrics-Based Impact:</strong> By implementing these changes, we observed a notable\nimprovement in our workflow velocity and a reduction in errors.</li>\n</ul>\n<p>This project brought about a transformation in our document categorization and\nfiltering processes. It enhanced clarity, reduced errors, and significantly\nexpedited the development of new features. As a result, our team experienced\nincreased efficiency and a clearer understanding of the document registration\nworkflow. This improved visibility fostered better decision-making and smoother\ncollaboration among team members, ultimately benefiting both our internal\nprocesses and our stakeholders.</p>\n<h2>Test Runs Project</h2>\n<ul>\n<li><strong>Architecting a Robust Testing Service:</strong> Engineered a cutting-edge testing\nservice from the ground up, utilizing a serverless architecture with Lambdas,\nSQS, cronjobs, and a series of new endpoints integrated into our <code>docgen</code>\nservice.\n<ul>\n<li><em>Infrastructure Mastery:</em> Spearheaded the entire infrastructure setup,\nbeginning with the creation of a comprehensive Design Doc. This encompassed\ndefining the API structure, selecting the optimal database solution, and\noverseeing its deployment.</li>\n</ul>\n</li>\n<li><strong>Mentorship and Collaboration:</strong> Demonstrated leadership by guiding and\nmentoring fellow engineers throughout the project, ensuring alignment with the\ndesign vision and the successful execution of essential tasks.</li>\n<li><strong>Overcoming Challenges:</strong> Navigated and resolved significant technical\nhurdles:\n<ul>\n<li><em>Lambda Efficiency Enhancement:</em> Addressed Lambda's 'Event loop closed'\nissue by identifying its root cause, which was a compatibility conflict with\nour asynchronous DB connection library. Implemented a pragmatic solution by\nclosing the DB connection after each use.</li>\n<li><em>MSK Event Stream Optimization:</em> Optimized event processing by mitigating\nthe issue of disappearing MSK events. Simplified the architecture by\ntransitioning to SQS, which, in hindsight, could have been pursued as the\ninitial design choice.</li>\n<li><em>Adaptive Database Strategy:</em> Responded to the challenge of changing the\noriginal database choice. Despite advocating for a low-maintenance solution\nwith DocumentDB, pivoted to a traditional RDBMS. Leveraged new libraries to\nenhance query efficiency, ensure asynchronous operation, and streamline\ndevelopment.</li>\n</ul>\n</li>\n<li><strong>Recognized Excellence:</strong> Earned accolades from multiple senior engineers,\nwho commended both the elegance of the solution and the adept handling of\ncomplex error scenarios.</li>\n<li><strong>Impactful Outcome:</strong> Redefined our testing capabilities, ensuring robust and\ncomprehensive testing of all document variants. The project's successful\nimplementation significantly contributed to improved system reliability and\nresilience, ultimately elevating the overall quality of our document\ngeneration process.</li>\n</ul>\n<h2>AutoAttach Logic</h2>\n<ul>\n<li>The goal was to create a more flexible and understandable auto-attach logic\n<ul>\n<li>Previously the options were on two axes: Default, Allowed, and Mandatory,\nand Include, Exclude, Flag Manual</li>\n<li>Now: deletable, flag manual, and AutoAttach, which it can be for new,\nrenewal and reissue, each being yes, no, or copy\n<ul>\n<li><code>copy</code>:If the endorsement is on the quote being reissued, all copies of\nthe endorsement will be copied to the reissue (with all configuration\nvariables entered by the underwriter). If the endorsement is not on the\nquote being reissued, it will not be auto-attached.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>This involved cross-team work</li>\n</ul>\n<h2>Improve Observability</h2>\n<ul>\n<li>Identified critical gaps in system understanding and complex debugging\nprocesses</li>\n<li>Advocated for enhanced observability inspired by principles from Charity\nMajors' insights at Honeycomb.</li>\n<li>Initiated collaboration with senior developers to create a comprehensive\nlogging strategy.</li>\n<li>Collaborated on meticulous assessment of logging options, detail levels, and\ndimensions.</li>\n<li>Partnered with a Principal Engineer to architect a holistic plan for logging,\nmetrics, and SLOs.</li>\n<li>Developed a user-friendly dashboard for on-call engineers to troubleshoot and\nnavigate challenges.</li>\n<li>Expedited debugging, reducing resolution times from over 30 minutes to\nminutes.</li>\n<li>Proactively detected and addressed potential system issues, preventing\ncustomer complaints.</li>\n<li>Provided timely guidance for issue resolution, improving customer experience\nand system reliability.</li>\n</ul>\n<h2>Document Generation Errors</h2>\n<p>I collaborated closely with a senior developer on a project aimed at enhancing\nerror handling and document generation. Our approach involved two key strategies\nthat had a significant impact:</p>\n<ol>\n<li><strong>Preventing Unrenderable Document Generation:</strong> We revamped our document\ngeneration process by prioritizing the resolution of all requested items\nbefore attempting to render them. If any items couldn't be resolved or if we\nlacked the necessary user-provided configuration variables, we would\nimmediately trigger an error and refrain from rendering those document\ngeneration jobs. This proactive approach addressed issues where users\nrequested variants of documents that either didn't exist or lacked essential\ndata (config variables).</li>\n<li><strong>Config Variable Validation:</strong> In addition to resolving items, we also\nimplemented a robust validation process for config variables at the outset of\neach request. If the required config variables were absent, we would promptly\nraise an error. This step ensured that we had all the necessary information\nfrom users before proceeding with document generation for a specific variant.</li>\n</ol>\n<p>The impact of these initiatives was remarkable. Overnight, our document\ngeneration success rate, as measured by our Service Level Objective (SLO),\nsoared from two 9's (99%) to an impressive four 9's (99.99%). While it was\nexpected that most of our failed document generations stemmed from issues with\nitem resolution, the rapid and visible improvement from two 9's to four 9's\ndemonstrated the effectiveness of our approach. This enhancement not only\nbolstered the reliability of our document generation process but also\ncontributed to a smoother user experience, ensuring that users received accurate\nand complete documents without unnecessary delays or errors.</p>\n<h2>Policy Validator Service</h2>\n<ul>\n<li><strong>Leadership Role in Service Creation:</strong>\n<ul>\n<li>Collaborated with a Principal Engineer to inherit and extend a new service\ndesigned to validate quotes, ensuring accurate data and configuration.</li>\n<li>Successfully took ownership of the service, building upon its foundation and\nenhancing its capabilities.</li>\n</ul>\n</li>\n<li><strong>Framework Development:</strong>\n<ul>\n<li>Pioneered the creation of a robust framework for seamlessly incorporating\nand expanding existing test cases.</li>\n<li>Established a standardized approach within the service, fostering\nconsistency and efficiency across teams.</li>\n</ul>\n</li>\n<li><strong>Comprehensive Monitoring Implementation:</strong>\n<ul>\n<li>Engineered an extensive monitoring system, incorporating logging, metrics,\nand Service Level Objectives (SLOs).</li>\n<li>This meticulous monitoring framework provides a granular view of system\nperformance, enhancing our ability to identify and resolve issues promptly.</li>\n</ul>\n</li>\n<li><strong>System Understanding and Knowledge Sharing:</strong>\n<ul>\n<li>Positioned the service as a valuable tool for understanding the intricacies\nof our system.</li>\n<li>Effectively documented edge cases and unusual behaviors, providing a\ncomprehensive resource for the team to navigate the complexities of our\ntechnology landscape.</li>\n</ul>\n</li>\n<li><strong>Risk Mitigation and Incident Prevention:</strong>\n<ul>\n<li>The service plays a pivotal role in safeguarding the company from\nsubstantial financial losses, particularly in cases of missing endorsements.</li>\n<li>Proactively prevents incidents that could potentially result in significant\nfinancial implications for the organization.</li>\n</ul>\n</li>\n<li><strong>Impactful Discoveries:</strong>\n<ul>\n<li>Uncovered and addressed a critical race condition, improving the overall\nreliability and robustness of the service.</li>\n<li>Identified and resolved an incident that persisted since a legacy service's\ninception several years ago, contributing to the ongoing refinement of our\ntechnology infrastructure.</li>\n</ul>\n</li>\n</ul>\n<p>This significantly contributed to our overall risk mitigation strategy and\nsystem understanding. The comprehensive monitoring system and standardized\nframework established during this project continue to be integral components of\nour quality assurance and system reliability efforts.</p>\n<h1><strong>Collaboration &#x26; Mentorship</strong></h1>\n<h3><strong>Doc Support Training</strong></h3>\n<ul>\n<li><strong>Conducted numerous Doc Support Training Sessions</strong>\n<ul>\n<li>Empowered support engineers by imparting expertise in utilizing Datadog\ndashboard and Sentry errors for effective issue debugging.</li>\n<li>Facilitated comprehensive sessions, walking them through key components of\nour services to deepen their understanding of how their work integrates with\nour system.</li>\n</ul>\n</li>\n</ul>\n<h2><strong>Collaboration</strong></h2>\n<ul>\n<li><strong>Designated Go-to Expert</strong>\n<ul>\n<li>Positioned as a primary resource for team members seeking assistance with\nour internal service's frontend, showcasing leadership and expertise.</li>\n<li>Acted as a secondary support resource for queries related to the services on\nour team, offering guidance on integration challenges and debugging.</li>\n</ul>\n</li>\n<li><strong>Mentorship and Co-Contributor Role in Design Docs</strong>\n<ul>\n<li><strong>Guided Junior Engineer Architectural Decisions</strong>\n<ul>\n<li>Provided strategic advice to a junior engineer, influencing architectural\ndecisions for optimal outcomes.</li>\n</ul>\n</li>\n<li><strong>Consulted Senior Engineer on Multiple Projects</strong>\n<ul>\n<li>Offered expertise to a senior engineer across various projects,\ncontributing to the success and efficiency of each endeavor.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2>Foundational Code</h2>\n<h3>Categorization Frontend work</h3>\n<ul>\n<li>Created a front-end pattern for other developers to replicate when adding more\nfilters or categorizations\n<ul>\n<li>This reduced the time to delivery by half and set the standard for how new\ncomponents of this type should be added</li>\n</ul>\n</li>\n</ul>\n<h3>Auth + Redis</h3>\n<ul>\n<li>Transitioned our auth code in two different services to utilize Redis as a\ncache for our auth tokens\n<ul>\n<li>This set the standard for how we interact with Redis</li>\n<li>Other teams adopted this code pattern for how to store auth tokens using\nRedis</li>\n</ul>\n</li>\n<li>Part of this work also involved moving us away from internal hacky code to\nstandard community-packages</li>\n</ul>\n<h3>Refactored Key Class within Our System</h3>\n<ul>\n<li>Made code more readable and concise by breaking down several functions within\na class</li>\n<li>Added many docstrings and explanations for key parts of this code</li>\n<li>Added a suite of tests to fully test the new implementation</li>\n</ul>\n<h3>Policy-Validator</h3>\n<ul>\n<li>Created the foundational code for the whole service\n<ul>\n<li>This includes the structure and best practices for working within the\ncodebase</li>\n</ul>\n</li>\n</ul>\n<h1><strong>Design &#x26; Documentation</strong></h1>\n<h2>Design Docs</h2>\n<ol>\n<li><strong>Testing System for Documents</strong>\n<ul>\n<li><strong>Description</strong>: Developed a comprehensive design document for a new\ntesting system dedicated to our documents.</li>\n<li>See\n<a href=\"https://www.notion.so/Test-Runs-Project-7367953e49844321850b798910edb504?pvs=21\">Test Runs Project</a></li>\n</ul>\n</li>\n<li><strong>Verification Service ADR</strong>\n<ul>\n<li><strong>Description</strong>: Authored an Architecture Decision Record (ADR) for a novel\nservice responsible for verifying that quotes contain accurate information,\nproper documents, and configuration details.</li>\n<li>See <a href=\"https://www.notion.so/f57ed3150941402c9f94e58548065c18?pvs=21\"></a></li>\n</ul>\n</li>\n</ol>\n<h2>Documentation</h2>\n<ol>\n<li><strong>Script Execution Log Wiki</strong>\n<ul>\n<li><strong>Description</strong>: Established a wiki to log the execution of one-off\nscripts, providing transparency into who ran the scripts, when, and the\npurpose behind each execution.</li>\n<li><strong>Impact:</strong>\n<ul>\n<li>This created a history of what scripts were ran, what the inputs were,\nand what the outputs were</li>\n<li>We had better visibility into what has changed within our system as a\nresult of one-off scripts</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>PR Review Process Documentation</strong>\n<ul>\n<li><strong>Description</strong>: Documented an improved process for reviewing pull\nrequests, streamlining the workflow and ensuring a more effective and\ncollaborative review.</li>\n<li><strong>Impact</strong>:\n<ul>\n<li>Higher quality PRs</li>\n<li>Faster feedback loop</li>\n<li>Better communication around PRs</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h1><strong>What you learned</strong></h1>\n<h2>Concepts and Books</h2>\n<p>Read several books:</p>\n<p>| Title                                                                                                                                                                                                                                                                                                             | Key Takeaways                                                                                                                                                                                   |\n| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| <a href=\"https://www.amazon.com/Elegant-Puzzle-Systems-Engineering-Management/dp/B07SH1DXXM/ref=sr_1_1?keywords=an+elegant+puzzle+systems+of+engineering+management&#x26;qid=1679240652&#x26;sprefix=An+Elegant%2Caps%2C114&#x26;sr=8-1\">An Elegant Puzzle: Systems of Engineering Management</a> by Will Larson                            | A good book to reference when starting in an Engineering Management role.                                                                                                                       |\n| <a href=\"https://www.amazon.com/Accelerate-Building-Performing-Technology-Organizations/dp/B07BMBYHXL/ref=sr_1_1?keywords=accelerate+book&#x26;qid=1679240748&#x26;sprefix=accele%2Caps%2C126&#x26;sr=8-1\">Accelerate: Building and Scaling High-Performing Technology Organizations</a> By Gene Kim, Jez Humble                            | Provides statistical backing for common Agile/DevOps practices, which is useful when making a case for them.                                                                                    |\n| <a href=\"https://www.dynamodbbook.com/\">DynamoDB Book</a> by Alex DeBrie                                                                                                                                                                                                                                                     | A great deep-dive into DynamoDB, best used as a reference rather than read cover-to-cover.                                                                                                      |\n| <a href=\"https://www.amazon.com/Observability-Engineering-Achieving-Production-Excellence/dp/1492076449/ref=sr_1_2?keywords=observability+engineering&#x26;qid=1679241765&#x26;sprefix=observa%2Caps%2C105&#x26;sr=8-2\">Observability Engineering: Achieving Production Excellence</a> by Charity Major, Liz Fong-Jones, and George Miranda | Offers an important mindset shift for debugging on-call issues, moving from reactive to proactive.                                                                                              |\n| <a href=\"https://understandingdistributed.systems/\">Understanding Distributed Systems</a> By Roberto Vitillo                                                                                                                                                                                                                 | A clear and down-to-earth explanation of distributed systems.                                                                                                                                   |\n| <a href=\"https://www.amazon.com/System-Design-Interview-insiders-Second/dp/B08CMF2CQF\">System Design Interview - An Insider's Guide Vol 1</a> and <a href=\"https://www.amazon.com/System-Design-Interview-Insiders-Guide/dp/1736049119\">Vol 2</a> By Alex Xu                                                                            | Volume 1 is a great introduction, while Volume 2 delves into more serious system design topics.                                                                                                 |\n| <a href=\"https://www.amazon.com/Software-Engineers-Guidebook-Navigating-positions/dp/908338182X/ref=sr_1_1?crid=29AQD618WX3ZB&#x26;keywords=software+engineers+guidebook&#x26;qid=1700522758&#x26;sprefix=%2Caps%2C107&#x26;sr=8-1\">The Software Engineer's Guidebook</a> by Gergely Orosz                                                       | A great resource with fantastic advice to return to throughout a software engineering career.                                                                                                   |\n| <a href=\"https://www.cosmicpython.com/\">Architecture Patterns with Python</a> by Harry Percival and Bob Gregory                                                                                                                                                                                                              | A worthwhile read on applying architecture patterns from Clean Code and Domain-Driven Design in Python, though some patterns may feel less \"Pythonic\" and more like their Java/C# counterparts. |</p>\n<h2>Libraries and Tools</h2>\n<ul>\n<li>Further deep-dived into async in Python\n<ul>\n<li>Learned a lot about\n<a href=\"https://www.python-httpx.org/advanced/#customizing-authentication\">httpx</a></li>\n</ul>\n</li>\n<li>Learned a lot about and implemented Redis in two services</li>\n<li>Created several mini-apps with\n<a href=\"https://www.serverless.com/\">Serverless Framework</a>\n<ul>\n<li>One of which involved Stepfunctions</li>\n<li><strong>Highly recommend using Serverless Framework!</strong></li>\n</ul>\n</li>\n<li>Played around with <strong>CockroachDB</strong> and <strong>CassandraDB</strong>\n<ul>\n<li>Found both had advantages, but especially loved CockroachDB for its metrics\ndashboard and ease of use</li>\n</ul>\n</li>\n<li>Created an app that uses <strong>MongoDB</strong> and <strong>Beanie-ODM</strong> (link to frontend\nhere: https://nag-media.netlify.app/)\n<ul>\n<li>Implemented the backend with <strong>Serverless Framework</strong> and a bunch of Lambdas</li>\n<li>In the process, I learned how to use <strong>New Relic</strong> for log aggregation and\nmonitoring</li>\n<li>Frontend was Bootstrap for styling, TypeScript with React</li>\n</ul>\n</li>\n<li>Deep-dived in Terraform and terragrunt\n<ul>\n<li>Found terragrunt a great and simple tool that really solves common issues\nwith infra management in different environments</li>\n</ul>\n</li>\n</ul>\n<h1><strong>Outside of work</strong></h1>\n<h2>Blog posts</h2>\n<p><a href=\"https://medium.com/@david-nagarpowers/grpc-interceptors-a-way-to-do-auth-in-python-42e8ba83abe5\">gRPC Interceptors: A Way to Do Auth in Python</a></p>\n"}},"__N_SSG":true}